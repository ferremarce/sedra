<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="style.css"  />
        <h:outputScript library="js" name="primefaces.js" />
        <h:outputStylesheet library="css" name="primeflex.min.css"  />
        <h:outputStylesheet library="webjars" name="font-awesome/5.15.4/css/all.min-jsf.css" />
        <h:outputStylesheet library="webjars" name="font-awesome/5.15.4/css/v4-shims.min-jsf.css" />
        <link rel="icon" type="image/x-icon" href="#{request.contextPath}/favicon.ico"/>
        <title>#{ConfiguracionController.configuracion.tituloSistema}</title>
    </h:head>

    <h:body>
        <p:idleMonitor timeout="#{CommonController.tiempoSesionActiva}" >
            <p:ajax global="false" event="idle" listener="#{LoginManager.doLogout()}" oncomplete="document.getElementById('formHeader:cmdLogout').click(); " onsuccess="alert('La sesiÃ³n del usuario ha expirado. Para acceder nuevamente haga click en OK')"/>
        </p:idleMonitor>
        <p:panel widgetVar="statusDialog" id="panelLoad" style="position: fixed; left: 40%; top: 40px; z-index: 99;" >
            <p:graphicImage value="/img/loading3.gif" height="100"/><br/>
            <h:outputText value="Cargando..."/>
        </p:panel>
        <ui:include src="/includes/header.xhtml"/>     
        <ui:insert name="title">
        </ui:insert>
        <ui:insert name="ajax">
            <ui:include src="/includes/ajax.xhtml"/>
        </ui:insert>
        <ui:insert name="content">
        </ui:insert>
        <ui:include src="/includes/footer.xhtml"/>
        <script>
            document.getElementById('panelLoad').style.display = 'none';
        </script>
    </h:body>

</html>
