<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="style.css"  />
        <title>#{bundle.TituloSistema}</title>
    </h:head>

    <h:body>
        <p:idleMonitor timeout="#{CommonController.tiempoSesionActiva}" >
            <p:ajax global="true" event="idle" listener="#{LoginManager.doLogout()}" oncomplete="alert('La sesiÃ³n del usuario ha expirado. Para acceder nuevamente haga click en OK')"/>
        </p:idleMonitor>
        <p:panel widgetVar="statusDialog" id="panelLoad" style="position: fixed; left: 50%; top: 40px; z-index: 99;" >
            <p:graphicImage value="/img/loading2.gif" height="50"/>
        </p:panel>
        <div class="ui-fluid">
            <p:link style="text-decoration: none" href="/">
                <p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
                    <p:graphicImage value="/img/logo-new.png" height="80"/>
                    <p:outputPanel>
                        <h:outputText styleClass="tresD fontBold" style="font-size: xx-large"  value="SEDRA v.3"/><br/>
                        <h:outputText value="#{bundle.TituloSistema}"/>
                    </p:outputPanel>
                </p:panelGrid>
            </p:link>
            <h:form>
                <p:menubar model="#{MenuController.model}"/> 
            </h:form>
            <ui:insert name="title">
            </ui:insert>
            <ui:insert name="ajax">
                <ui:include src="/ajax.xhtml"/>
            </ui:insert>
            <p:growl life="5000" globalOnly="true" showDetail="true" severity="info, warn" id="messages"/> 
            <p:messages closable="true" showDetail="true" globalOnly="true" severity="error, fatal" id="messagesError">
                <p:autoUpdate/>
            </p:messages>
            <ui:insert name="content">
            </ui:insert>
            <footer>
                <p:panel>
                    <span >
                        &copy;2019 #{bundle.TituloSistema}
                    </span>
                    <span style="float: right;">
                        Desarrollado por @ferremarce
                    </span>
                </p:panel>
            </footer>
        </div>
        <script>
            document.getElementById('panelLoad').style.display = 'none';
        </script>
    </h:body>

</html>
